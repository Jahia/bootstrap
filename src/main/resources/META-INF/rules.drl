package org.jahia.modules.bootstrap.rules

#list any import classes here.
import org.jahia.services.content.rules.*
import org.jahia.services.content.JCRContentUtils
import org.slf4j.Logger

expander rules.dsl

#declare any global variables here
global User user
global Service service
global Logger logger
global JCRContentUtils jcrUtils
global BootstrapCompilerRuleService bootstrapCompiler

rule "Compile Bootstrap"
  when
    A file content has been modified
      - its path matches /sites/[\\p{Alnum}\\-_]+/files/less/variables.less
    The node has a parent
  then
    Compile the parent to css
end
